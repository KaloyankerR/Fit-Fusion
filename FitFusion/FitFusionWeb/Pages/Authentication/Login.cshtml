@page
@model FitFusionWeb.Pages.Authentication.LoginModel
@{
    ViewData["Title"] = "Login";
}

<style>
    .role-buttons {
        display: flex;
        justify-content: space-around;
        margin-bottom: 10px;
    }

    .role-button {
        padding: 10px;
        cursor: pointer;
    }

        .role-button.active {
            background-color: #4CAF50;
            color: white;
        }
</style>

<h2>@ViewData["Title"]</h2>

<div class="role-buttons">
    <div class="role-button" id="ownerButton" onclick="selectRole('Owner')">Owner</div>
    <div class="role-button" id="staffButton" onclick="selectRole('Staff')">Staff</div>
    <div class="role-button" id="customerButton" onclick="selectRole('Customer')">Customer</div>
</div>

<form method="post">
    <div asp-validation-summary="All" class="text-danger"></div>
    <div>
        <label asp-for="@Model.Email"></label>
        <input asp-for="@Model.Email" />
    </div>
    <div>
        <label asp-for="@Model.Password"></label>
        <input asp-for="@Model.Password" />
    </div>
    <!-- Add a hidden input field for UserType -->
    <input type="hidden" id="userTypeInput" name="UserType" />
    <div>
        <!-- Change the onclick event to set UserType and show the submit button -->
        <button type="button" onclick="selectRole('Owner')">Log in as Owner</button>
        <button type="button" onclick="selectRole('Staff')">Log in as Staff</button>
        <button type="button" onclick="selectRole('Customer')">Log in as Customer</button>
    </div>
    <div>
        <button type="submit" id="submitButton" style="display: none;">Log in</button>
    </div>
</form>

<script>
    let selectedRole = '';

    function selectRole(role) {
        selectedRole = role;

        // Set the UserType value in the hidden input field
        document.getElementById('userTypeInput').value = role;

        // Remove 'active' class from all buttons
        document.querySelectorAll('.role-button').forEach(button => {
            button.classList.remove('active');
        });

        // Add 'active' class to the selected button
        document.getElementById(`${role.toLowerCase()}Button`).classList.add('active');

        // Show the submit button
        document.getElementById('submitButton').style.display = 'block';
    }
</script>
